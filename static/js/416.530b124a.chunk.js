"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[416],{509:function(t,n,e){function r(t,n,e,r,c,u,o){try{var a=t[u](o),i=a.value}catch(s){return void e(s)}a.done?n(i):Promise.resolve(i).then(r,c)}function c(t){return function(){var n=this,e=arguments;return new Promise((function(c,u){var o=t.apply(n,e);function a(t){r(o,c,u,a,i,"next",t)}function i(t){r(o,c,u,a,i,"throw",t)}a(void 0)}))}}e.d(n,{cI:function(){return d},E$:function(){return w},kh:function(){return _},gW:function(){return m},ur:function(){return h}});var u=e(757),o=e.n(u),a="https://api.themoviedb.org/3/",i="trending/all/day",s="search/movie",f="movie/",p="583e8699bc133adc4a2f7322eb108f1f";function h(){return l.apply(this,arguments)}function l(){return(l=c(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a).concat(i,"?api_key=").concat(p)).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return v.apply(this,arguments)}function v(){return(v=c(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a).concat(s,"?api_key=").concat(p,"&query=").concat(n)).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){return y.apply(this,arguments)}function y(){return(y=c(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a).concat(f).concat(n,"?api_key=").concat(p)).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return x.apply(this,arguments)}function x(){return(x=c(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a).concat(f).concat(n,"/credits?api_key=").concat(p)).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return k.apply(this,arguments)}function k(){return(k=c(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a).concat(f).concat(n,"/reviews?api_key=").concat(p)).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},416:function(t,n,e){e.r(n),e.d(n,{default:function(){return h}});var r=e(439),c=e(509),u=e(791),o=e(689),a=e(87),i="MovieSearch_search__input__BmqA7",s="MovieSearch_search__btn__JoIvD",f="MovieSearch_films__item__Mbcmr",p=e(184),h=function(){var t,n=(0,u.useState)([]),e=(0,r.Z)(n,2),h=e[0],l=e[1],m=(0,o.TH)();console.log(m);var v=(0,a.lr)(),w=(0,r.Z)(v,2),y=w[0],d=w[1],x=null!==(t=y.get("query"))&&void 0!==t?t:"";(0,u.useEffect)((function(){(0,c.gW)(x).then((function(t){l(t.results)})).catch((function(t){console.log(t)}))}));return(0,p.jsxs)("main",{children:[(0,p.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=t.currentTarget;d({query:n.elements.query.value}),n.reset()},children:[(0,p.jsx)("input",{className:i,type:"text",name:"query"}),(0,p.jsx)("button",{className:s,type:"submit",children:"Search"})]}),(0,p.jsx)("ul",{children:h.map((function(t){var n=t.id,e=t.title,r=t.name;return(0,p.jsx)("li",{className:f,children:(0,p.jsx)(a.rU,{to:"/movies/".concat(n),state:{from:m},children:r||e})},n)}))})]})}}}]);
//# sourceMappingURL=416.530b124a.chunk.js.map