{"version":3,"file":"static/js/754.f77c60fc.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","filmApi.js","webpack://react-homework-template/./src/components/MovieDetails.module.css?5587","pages/MovieDetails.jsx"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const BASE_URL = 'https://api.themoviedb.org/3/';\nconst END_POINT_ALL = 'trending/all/day';\nconst END_POINT_SEARCH = 'search/movie';\nconst END_POINT_DETAILS = 'movie/';\nconst KEY_API = '583e8699bc133adc4a2f7322eb108f1f';\n\nexport async function getTrendFilms() {\n    return await fetch(`${BASE_URL}${END_POINT_ALL}?api_key=${KEY_API}`)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.statusText)\n            }\n            return resp.json();\n        })\n}\n\nexport async function getSearchFilms(searchQuery) {\n    return await fetch(`${BASE_URL}${END_POINT_SEARCH}?api_key=${KEY_API}&query=${searchQuery}`)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.statusText)\n            }\n            return resp.json();\n        })\n}\n\nexport async function getFilmDetails(id) {\n    return await fetch(`${BASE_URL}${END_POINT_DETAILS}${id}?api_key=${KEY_API}`)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.statusText)\n            }\n            return resp.json();\n        })\n}\n\nexport async function getFilmCast(id) {\n    return await fetch(`${BASE_URL}${END_POINT_DETAILS}${id}/credits?api_key=${KEY_API}`)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.statusText)\n            }\n            return resp.json();\n        })\n}\n\nexport async function getFilmReviews(id) {\n    return await fetch(`${BASE_URL}${END_POINT_DETAILS}${id}/reviews?api_key=${KEY_API}`)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.statusText)\n            }\n            return resp.json();\n        })\n}","// extracted by mini-css-extract-plugin\nexport default {\"back__btn\":\"MovieDetails_back__btn__IWXP0\",\"film__description\":\"MovieDetails_film__description__55wPY\",\"film__description_text\":\"MovieDetails_film__description_text__MsGKz\",\"film__description_overview\":\"MovieDetails_film__description_overview__J2Lu-\",\"film__description_genres\":\"MovieDetails_film__description_genres__8BKxI\",\"film__additional\":\"MovieDetails_film__additional__5gt47\",\"film__additional_item\":\"MovieDetails_film__additional_item__EWaxD\"};","import { getFilmDetails } from 'filmApi';\nimport { useState, useEffect, Suspense } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport css from '../components/MovieDetails.module.css';\nimport imageError from 'no-photo.png';\n\nconst MovieDetails = () => {\n  const { id } = useParams();\n  const location = useLocation();\n  const additionalLocation = location.state;\n  console.log(location)\n  const backBtn = location.state?.from ?? '/';\n  const [film, setFilm] = useState({} ?? '');\n  const { title, poster_path, overview, genres, vote_average } = film;\n  const imgPath = 'http://image.tmdb.org/t/p/w500';\n  let src = `${imgPath}${poster_path}`;\n  let filmGenres = genres?.map(genre => genre.name).join(', ') ?? '';\n\n  useEffect(() => {\n    getFilmDetails(id)\n      .then(data => {\n        setFilm(data);\n      })\n      .catch(error => {\n        console.log(error);\n        setFilm(error.message);\n      });\n  }, [id]);\n\n  return (\n    <main>\n      <Link to={backBtn} className={css.back__btn}>\n        Go back\n      </Link>\n      {!film && <p>The resource you requested could not be found</p>}\n      {film && (\n        <section>\n          <div className={css.film__description}>\n            <img src={poster_path ? src : imageError} alt={title} />\n            <div className={css.film__description_text}>\n              <h3>{title}</h3>\n              <p>Use score: {Math.round(vote_average * 10)}%</p>\n              <p className={css.film__description_overview}>Overview</p>\n              <p>{overview}</p>\n              <p className={css.film__description_genres}>Genres</p>\n              <p>{filmGenres}</p>\n            </div>\n          </div>\n          <div className={css.film__additional}>\n            <p>Additional information</p>\n            <ul>\n              <li className={css.film__additional_item}>\n                <Link to=\"cast\" state={{ from: additionalLocation.from }}>\n                  Cast\n                </Link>\n              </li>\n              <li className={css.film__additional_item}>\n                <Link to=\"reviews\" state={{ from: additionalLocation.from }}>\n                  Reviews\n                </Link>\n              </li>\n            </ul>\n          </div>\n        </section>\n      )}\n      <Suspense fallback={<h1>Loading</h1>}>\n        <Outlet />\n      </Suspense>\n    </main>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","BASE_URL","END_POINT_ALL","END_POINT_SEARCH","END_POINT_DETAILS","KEY_API","getTrendFilms","fetch","resp","ok","Error","statusText","json","getSearchFilms","searchQuery","getFilmDetails","id","getFilmCast","getFilmReviews","useParams","location","useLocation","additionalLocation","state","console","log","backBtn","from","useState","film","setFilm","title","poster_path","overview","genres","vote_average","src","filmGenres","map","genre","name","join","useEffect","data","catch","message","to","className","css","imageError","alt","Math","round","Suspense","fallback"],"sourceRoot":""}